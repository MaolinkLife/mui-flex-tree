<div class="container" [attr.selected]="selected" (click)="$event.stopPropagation(); selectNode($event)">
  <div class="tree-node" [ngStyle]="{'margin-left': size}">
    <div *ngIf="node.data.type !== 'ROOT' && node.expandable" class="expand-icon" [ngClass]="{'_expand': node.isExpand}"
      (click)="$event.stopPropagation(); expandNode($event)">
      <div class="icon" size="s" style="width: 8px; height:8px">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M19.6839 9.77139L6.35281 0.644989C5.73716 0.223221 5.11684 0 4.60124 0C3.60442 0 2.98779 0.800019 2.98779 2.13915V21.864C2.98779 23.2015 3.60364 24 4.59813 24C5.11451 24 5.72492 23.7766 6.34193 23.3536L19.6792 14.2274C20.5369 13.6396 21.0119 12.8485 21.0119 11.9989C21.0121 11.15 20.5426 10.3591 19.6839 9.77139Z"
            fill="currentColor" />
        </svg>
      </div>
    </div>

    <div class="tree-node__icon">
      <ng-container [ngSwitch]="node.data.type">
        <div *ngSwitchCase="'TYPE_1'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" focusable="false">
            <path fill="currentColor"
              d="M8.4 3H14c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V3c0-1.1.9-2 2-2h4c.3 0 .5.1.7.3L8.4 3zM5.6 3H2v10h12V5H8c-.3 0-.5-.1-.7-.3L5.6 3z">
            </path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_2'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#cbcfd3"></path>
            <path d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2z" fill="#959ba4"></path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_3'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#8f75d1" fill-opacity=".48">
            </path>
            <path
              d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2zM6.9 18.5L10 13l2 4 2-2 2.7 3.4c.3.4.3 1.1-.2 1.4-.2.1-.4.2-.6.2H7.7c-.6 0-1-.4-1-1 0-.2.1-.3.2-.5z"
              fill="#8f75d1"></path>
            <circle cx="15" cy="13" r="1" fill="#8f75d1"></circle>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_4'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#cbcfd3"></path>
            <path
              d="M9 20h3v2H9c-.6 0-1-.4-1-1s.4-1 1-1zm3-2h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v-2zm-3-2h3v2H9c-.6 0-1-.4-1-1s.4-1 1-1zm3-2h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v-2zm-3-2h3v2H9c-.6 0-1-.4-1-1s.4-1 1-1zM14 2l6 6h-4c-1.1 0-2-.9-2-2V2z"
              fill="#959ba4"></path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_5'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#8f75d1" fill-opacity=".48">
            </path>
            <path
              d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2zM6.9 18.5L10 13l2 4 2-2 2.7 3.4c.3.4.3 1.1-.2 1.4-.2.1-.4.2-.6.2H7.7c-.6 0-1-.4-1-1 0-.2.1-.3.2-.5z"
              fill="#8f75d1"></path>
            <circle cx="15" cy="13" r="1" fill="#8f75d1"></circle>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_6'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#8f75d1" fill-opacity=".48">
            </path>
            <circle cx="9" cy="17" r="2" fill="none" stroke="#8f75d1" stroke-width="2"></circle>
            <path d="M11 17V9l3 3" fill="none" stroke="#8f75d1" stroke-width="2" stroke-linecap="round"></path>
            <path d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2z" fill="#8f75d1"></path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_7'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#e01f19" fill-opacity=".48">
            </path>
            <path d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2z" fill="#e01f19"></path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_8'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#ee805d" fill-opacity=".48">
            </path>
            <path d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2z" fill="#ee805d"></path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_9'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#39b54a" fill-opacity=".48">
            </path>
            <path d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2z" fill="#39b54a"></path>
          </svg>
        </div>

        <div *ngSwitchCase="'TYPE_10'" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" focusable="false">
            <path d="M6 2h8l6 6v12c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z" fill="#5485b8" fill-opacity=".48">
            </path>
            <path d="M14 2l6 6h-4c-1.1 0-2-.9-2-2V2z" fill="#5485b8"></path>
          </svg>
        </div>

      </ng-container>
    </div>

    <div>
      {{ node.data.name }}
    </div>
  </div>
</div>

<div *ngIf="node.children && node.children.length && node.isExpand">
  <mui-tree-node *ngFor="let childNode of node.children" [node]="childNode" [level]="currentLevel"
    (expandNodeChange)="expandNodeChange.emit($event)" (selectNodeChange)="selectNodeChange.emit($event)"
    [parentSelected]="selected" [attr.id]="node.data.id">
  </mui-tree-node>
</div>